<ng-container *ngIf="player; else loading">
  <h3>{{player.name }}</h3>
  <div class="d-flex flex-column clearfix hand">
    <ng-container *ngFor="let card of player.cards">
      <app-card [card]="isActive ? undefined : card" [ngbPopover]="popContent" popoverTitle="Actions" class="card">
      </app-card>
      <ng-template #popContent>
        <div class="d-flex flex-row justify-content-center align-items-center">
          <ng-container *ngIf="isActive; else otherPlayersContent">
            <button class="btn btn-sm btn-light action" (click)="player.playCard(card)">Play</button>
            <button class="btn btn-sm btn-secondary action" (click)="player.discardCard(card)">Discard</button>
          </ng-container>

          <ng-template #otherPlayersContent>
            <button class="btn btn-sm btn-primary action" *ngIf="!isColorful(card.color); else allColorActions"
              [class]="card.color" (click)="notifyGiveHintRequest(card, card.color)">Hint color {{card.color}}</button>
            <ng-template #allColorActions>
              <div class="d-flex flex-column">
                <button *ngFor="let color of allSingleColors" class="btn btn-sm btn-primary action" [class]="color"
                  (click)="notifyGiveHintRequest(card, color)">Hint {{color}}</button>
              </div>
            </ng-template>
            <button class="btn btn-sm btn-secondary action" (click)="notifyGiveHintRequest(card, card.number)">
              Hint number {{card.number}}
            </button>
          </ng-template>
        </div>
      </ng-template>
    </ng-container>
  </div>
</ng-container>
<ng-template #loading>
  <span class="fs-4">Loading...</span>
</ng-template>